<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Get Latitude and Longitude</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    
<div class="container">
    <!-- Section 1: Location -->
    <div class="card">
        <h1>PredictiveVoltaic</h1> <!--Name from readme.md file. Can be changed if needed.-->
        <h3>Enter City and Country to Get Latitude and Longitude</h3>
        <form id="location-form">
            <label for="city">City:</label>
            <input type="text" id="city" name="city" required>

    <!-- Location Input by City/Country -->
    <form id="location-form">

        <label for="city">City:</label>
        <input type="text" id="city" name="city" required><br><br>

        <label for="country">Country:</label>
        <input type="text" id="country" name="country" required><br><br>

        <button type="submit">Get Latitude & Longitude</button>

    <!-- Section 2: PV system -->
    <div class="card">
        <h3>Enter Your PV System Details</h3>
        <form id="pv-form">
            <label for="area">Panel Area (m²):</label>
            <input type="number" step="0.01" id="area" required>

            <label for="panel-eff">Panel Efficiency (0-1):</label>
            <input type="number" step="0.01" id="panel-eff" min="0" max="1" required>

    <!-- Result Display -->
    <h4>Latitude: <span id="latitude"></span></h4>
    <h4>Longitude: <span id="longitude"></span></h4>

    <hr><br>

    <!-- Manual Coordinate Input Form -->
    <h3>Or Enter Coordinates Manually</h3>
    <form id="manual-coords-form">
        <label for="manual-lat">Latitude:</label>
        <input type="number" step="0.000001" id="manual-lat" name="manual-lat" required><br><br>

        <label for="manual-lon">Longitude:</label>
        <input type="number" step="0.000001" id="manual-lon" name="manual-lon" required><br><br>

        <button type="submit">Submit Coordinates</button>
        
    </form>

    <br><hr><br>

    <!-- PV System Configuration -->
    <h3>Enter Your PV System Details</h3>
    <form id="pv-form">

        <label>Panel Area (m²):</label>
        <input type="number" step="0.01" id="area" min="1" required><br><br>

        <label>Panel Efficiency (0-1):</label>
        <input type="number" step="0.01" id="panel-eff" min="0" max="1" required><br><br>

        <label>Inverter Efficiency (0-1):</label>
        <input type="number" step="0.01" id="inverter-eff" min="0" max="1" required><br><br>

        <button type="submit">Submit</button>
    </form>

    <p id="response-message"></p>

    <script src="{{ url_for('static', filename='js/script.js') }}" type="module"></script>

    <h3>Power Prediction</h3>
    <table id="energy-table">
        <thead>
            <tr>
                <th>Prediction Period (1 hour per period)</th>
                <th>Estimated Output (kWh)</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here by JavaScript -->
        </tbody>
        <tfoot>
            <tr>
                <td><strong>Total</strong></td>
                <td id="total-energy"><strong>0.00</strong></td>
            </tr>
        </tfoot>
    </table>
            <label for="inverter-eff">Inverter Efficiency (0-1):</label>
            <input type="number" step="0.01" id="inverter-eff" min="0" max="1" required>

            <button type="submit">Submit</button>
        </form>

        <p id="response-message"></p>
  
        <script src="{{ url_for('static', filename='js/script.js') }}" type="module"></script> <!--Added type="module"-->
    </div>

    <!-- Section 3: Output Table -->
    <div class="card">
        <h3>Power Prediction</h3>
        <table id="energy-table">
            <thead>
                <tr>
                    <th>Prediction Period (1 hour per period)</th>
                    <th>Estimated Output (kWh)</th>
                </tr>
            </thead>
            <tbody>
                <!-- JS will populate here -->
            </tbody>
            <tfoot>
                <tr>
                    <td>Total</td>
                    <td id="total-energy">0.000</td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>

</body>
</html>
